<%- include('../partials/userheader.ejs')%>
<style>
    .icon-cards {
  position: relative;
  width: 60vw;
  height: 80vw;
  max-width: 380px;
  max-height: 250px;
  margin: 0;
  color: white;
  -webkit-perspective: 1000px;
          perspective: 1000px;
  -webkit-transform-origin: center;
          transform-origin: center;
}
.icon-cards__content {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-transform-origin: center;
          transform-origin: center;
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d;
  -webkit-transform: translateZ(-30vw) rotateY(0);
          transform: translateZ(-30vw) rotateY(0);
  -webkit-animation: carousel 10s infinite cubic-bezier(0.77, 0, 0.175, 1) forwards;
          animation: carousel 10s infinite cubic-bezier(0.77, 0, 0.175, 1) forwards;
}
.icon-cards__content.step-animation {
  -webkit-animation: carousel 8s infinite steps(1) forwards;
          animation: carousel 8s infinite steps(1) forwards;
}
.icon-cards__item {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 60vw;
  height: 40vw;
  max-width: 380px;
  max-height: 250px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
  border-radius: 6px;
  -webkit-transform-origin: center;
          transform-origin: center;
}
.icon-cards__item:nth-child(1) {
  background: transparent;
  -webkit-transform: rotateY(0) translateZ(35vw);
          transform: rotateY(0) translateZ(35vw);
}
.icon-cards__item:nth-child(2) {
  background: transparent;
  -webkit-transform: rotateY(120deg) translateZ(35vw);
          transform: rotateY(120deg) translateZ(35vw);
}
.icon-cards__item:nth-child(3) {
  background: transparent;
  -webkit-transform: rotateY(240deg) translateZ(35vw);
          transform: rotateY(240deg) translateZ(35vw);
}



@-webkit-keyframes carousel {
  0%,  17.5% {
    -webkit-transform: translateZ(-35vw) rotateY(0);
            transform: translateZ(-35vw) rotateY(0);
  }
  27.5%, 45% {
    -webkit-transform: translateZ(-35vw) rotateY(-120deg);
            transform: translateZ(-35vw) rotateY(-120deg);
  }
  55%, 72.5% {
    -webkit-transform: translateZ(-35vw) rotateY(-240deg);
            transform: translateZ(-35vw) rotateY(-240deg);
  }
  82.5%, 100% {
    -webkit-transform: translateZ(-35vw) rotateY(-360deg);
            transform: translateZ(-35vw) rotateY(-360deg);
  }
}

@keyframes carousel {
  0%,  17.5% {
    -webkit-transform: translateZ(-35vw) rotateY(0);
            transform: translateZ(-35vw) rotateY(0);
  }
  27.5%, 45% {
    -webkit-transform: translateZ(-35vw) rotateY(-120deg);
            transform: translateZ(-35vw) rotateY(-120deg);
  }
  55%, 72.5% {
    -webkit-transform: translateZ(-35vw) rotateY(-240deg);
            transform: translateZ(-35vw) rotateY(-240deg);
  }
  82.5%, 100% {
    -webkit-transform: translateZ(-35vw) rotateY(-360deg);
            transform: translateZ(-35vw) rotateY(-360deg);
  }
}



@-webkit-keyframes jelly {
  from {
    -webkit-transform: scale(1, 1);
            transform: scale(1, 1);
  }
  30% {
    -webkit-transform: scale(1.25, 0.75);
            transform: scale(1.25, 0.75);
  }
  40% {
    -webkit-transform: scale(0.75, 1.25);
            transform: scale(0.75, 1.25);
  }
  50% {
    -webkit-transform: scale(1.15, 0.85);
            transform: scale(1.15, 0.85);
  }
  65% {
    -webkit-transform: scale(0.95, 1.05);
            transform: scale(0.95, 1.05);
  }
  75% {
    -webkit-transform: scale(1.05, 0.95);
            transform: scale(1.05, 0.95);
  }
  to {
    -webkit-transform: scale(1, 1);
            transform: scale(1, 1);
  }
}

@keyframes jelly {
  from {
    -webkit-transform: scale(1, 1);
            transform: scale(1, 1);
  }
  30% {
    -webkit-transform: scale(1.25, 0.75);
            transform: scale(1.25, 0.75);
  }
  40% {
    -webkit-transform: scale(0.75, 1.25);
            transform: scale(0.75, 1.25);
  }
  50% {
    -webkit-transform: scale(1.15, 0.85);
            transform: scale(1.15, 0.85);
  }
  65% {
    -webkit-transform: scale(0.95, 1.05);
            transform: scale(0.95, 1.05);
  }
  75% {
    -webkit-transform: scale(1.05, 0.95);
            transform: scale(1.05, 0.95);
  }
  to {
    -webkit-transform: scale(1, 1);
            transform: scale(1, 1);
  }
}
p{
    text-transform: capitalize;
}
td{
    padding-left:30px;
}
</style>
<div class ="container">
    <div class ="row text-center">
        <div class ="col-md-4"></div>
        <div class ="col-md-6">
            <figure class="icon-cards mt-3">
                <div class="icon-cards__content">
                  <div class="icon-cards__item d-flex align-items-center justify-content-center"><span class="h1"><img src ="/uploads/<%=product.image%>" style ="width:200px;height:200px"></span></div>
                  <div class="icon-cards__item d-flex align-items-center justify-content-center"><span class="h1"><img src ="/uploads/<%=product.image%>" style ="width:200px;height:200px"></span></div>
                  <div class="icon-cards__item d-flex align-items-center justify-content-center"><span class="h1"><img src ="/uploads/<%=product.image%>" style ="width:200px;height:200px"></span></div>
                </div>
              </figure>
        </div>
    </div>
</div>
<hr>
<div class ="container">
    <div class ="row">
        <div class ="col-md-12">
            <div class ="jumbotron">
                <h3>Details</h3>
                <hr>
                <table>
                    <tr>
                        <th>
                            <p>Name : </p>
                        </th>
                        <td>
                            <p><%=product.name%></p>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <p>Category : </p>
                        </th>
                        <td>
                            <p><%=product.category%></p>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <p>Description : </p>
                        </th>
                        <td>
                            <p><%=product.description%></p>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <p>Price : </p>
                        </th>
                        <td>
                            <p>&#8377;<%=product.price%></p>
                        </td>
                    </tr>
                    <tr>
                      <th>
                          <p>Seller : </p>
                      </th>
                      <td>
                          <p><%=product.owner%></p>
                      </td>
                    </tr>
                    <tr>
                      <th>
                          <p>Payment Mode : </p>
                      </th>
                      <td>
                          <p>Cash On Delivery/Google Pay/Phone Pay/Paytm</p>
                      </td>
                    </tr>
                    <tr>
                  <td><form action ="/User/user/addtocart/<%=currentUser%>" method ="post">
                    <button class ="btn btn-warning" value ="<%=product._id%>" name ="add">&nbsp;&nbsp;&nbsp;Add to Cart&nbsp;&nbsp;&nbsp;</button>
                  </form></td>
                  <td><form action ="/User/user/buyproduct/<%=product._id%>" method ="POST" >
                    <button class ="btn btn-danger"value ="<%=product._id%>" name ="product">&nbsp;&nbsp;&nbsp;&nbsp;Buy Now&nbsp;&nbsp;&nbsp;&nbsp;</button>
                  </form></td>
                  </tr>
                </table>
              </div>
                <h3>Reviews</h3>
                <hr>
                <div class ="jumbotron">
                <form  action ="/User/user/review/<%=product._id%>" method ="POST">
                    <div class ="form-group"><input class="form-control" type="text" placeholder="Your Reviews" name ="review" ></div>
                    <div class ="form-group"><input class="form-control" type="text"  name ="author"value ="<%=currentUser%>" style ="display:none;"></div>
                    <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Submit</button>
                  </form>
                  <hr>
                  <%product.comments.forEach((data)=>{%>
                    <div>
                      <span style ="text-transform: capitalize;"><b>>>&nbsp;&nbsp; <%=data.review%></b></span>
                      <span style ="float:right;margin-right:30px;text-transform: capitalize;"><%=data.author%><br><%=data.date%></span>
                    </div><br><hr>
                  <%})%>
            </div>
        </div>
    </div>
</div>

  <script>
      function classToggle() {
  var el = document.querySelector('.icon-cards__content');
  el.classList.toggle('step-animation');
}

document.querySelector('#toggle-animation').addEventListener('click', classToggle);
  </script>
<%- include('../partials/footer.ejs') %>